/*! jquery.caro - v0.9.0 - Juho Vepsalainen - MIT
https://github.com/bebraw/jquery.caro - 2013-09-30 */
!function(a){function b(a,b){d(a,b,"left","width")}function c(a,b){d(a,b,"top","height")}function d(b,c,d,i){function o(a,f){return function(){c.cycle?(w=a(w,v-1),0>w&&(w=v-1),w>v-1&&(w=0)):w=e(a(w,v-1),0,v-1);var g={};g[d]=-100*w+"%",t.animate(g,c.delay,f),p(w,c.classes.button),q(w,c.classes.button),b.trigger("updateSlide",[w])}}function p(a,d){k(u,a,d),c.cycle||l(b,a,v),m(s,a)}function q(a,d){r.css("height",s.eq(a).height()),c.resize&&r.animate({height:s.eq(a).height()||void 0},c.resizeDelay,function(){b.parents(".slides").siblings(".navi").find(".selected."+d+":first").trigger("click")})}var r=a(".slides:first",b),s=r.children().append(a("<div>")),t=a("<div>").append(s).appendTo(r),u=a("."+c.classes.navi+":last",b),v=s.length,w=c.initialSlide;f(r,i,t,d,s),g(s,u,o,c.autoNavi,c.classes.button),h(b,t,o,c.classes),j(b,t,o,c.autoPlay,c.still),c.resize&&q(r,s,w),n(b),a(window).resize(function(){q(r,s,w)}),w&&(t.css(d,-100*w+"%"),r.css("height",s.eq(w).height())),p(w,c.classes.button)}function e(a,b,c){return Math.min(Math.max(a,b),c)}function f(b,c,d,e,f){b.css("overflow","hidden");var g={position:"relative"};g[c]=100*f.length+"%",g[e]="0%",d.css(g);var h={display:"top"==e?"auto":"inline-block","vertical-align":"top"},i=100/f.length;h[c]=parseInt(i,10)+"%";var j=(i-parseInt(i,10))/2+"%";"width"==c?(h["margin-left"]=j,h["margin-right"]=j):(h["margin-top"]=j,h["margin-bottom"]=j),f.each(function(b,c){a(c).css(h).addClass("slide")})}function g(b,c,d,e,f){b.each(function(b,g){var h=a("<a>",{href:"#"}).css("display","inline").bind("click",function(a){a.preventDefault(),d(function(){return b})()}).appendTo(c).addClass("title "+f);e?a(g).clone().appendTo(h):h.text(a(g).attr("title")||b+1)})}function h(b,c,d,e){function f(e,f){function g(a){return function(b){b.preventDefault(),a(b)}}function h(){c.clearQueue(),d(function(a,c){var d=b.triggerHandler("beforeSlide",[a]);return!i(d)||d?f(a,c):void 0})()}a('[data-caro="'+e+'"]').bind("click",h),b.find("."+e).bind("click",g(h))}f(e.prev,function(a){var c=a-1;return b.trigger("previousSlide",[c]),c}),f(e.next,function(a){var c=a+1;return b.trigger("nextSlide",[c]),c}),f(e.first,function(){var a=0;return b.trigger("firstSlide",[a]),a}),f(e.last,function(a,c){var d=c;return b.trigger("lastSlide",[d]),d})}function i(a){return"undefined"!=typeof a}function j(b,c,d,e,f){var g=d(function(a,b){return a==b?0:a+1},function(){a(this).delay(f).queue(function(){g(),a(this).dequeue()})});b.find(".play").bind("click",function(a){a.preventDefault(),g()}),b.find(".stop").bind("click",function(a){a.preventDefault(),c.clearQueue()})}function k(a,b,c){var d=a.find(".title."+c);d.removeClass("selected"),d.eq(b).addClass("selected")}function l(a,b,c){var d=a.find(".first,.prev"),e=a.find(".last,.next");0===b?d.addClass("disabled"):d.removeClass("disabled"),b==c-1?e.addClass("disabled"):e.removeClass("disabled")}function m(b,c){b.each(function(b,d){var e=a(d);e.removeClass("prev current next"),b==c-1&&e.addClass("prev"),b==c&&e.addClass("current"),b==c+1&&e.addClass("next")})}function n(b){return b.each(function(){a(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}a.fn.caro=function(d){return this.each(function(){var e=a(this),f=a.extend(!0,{dir:"horizontal",delay:300,still:1e3,autoPlay:!1,classes:{button:"button",navi:"navi",prev:"prev",next:"next",first:"first",last:"last"},autoNavi:!1,cycle:!1,resize:!0,resizeDelay:300,initialSlide:0},d),g="horizontal"==f.dir?b:c;g(e,f)})}}(jQuery);